[buildout]
extensions = mr.developer
show-picked-versions = true
extends = versions.cfg
          sources.cfg
sources-dir = devel

parts =
  imio-dataexchange-core
  pytest
  pytest-cov

auto-checkout =
  imio.amqp

eggs = imio.dataexchange.core

develop=
    .

versions = versions

[imio-dataexchange-core]
recipe = zc.recipe.egg
dependent-scripts = true
eggs =
    imio.dataexchange.core
interpreter = py

[pytest]
recipe = zc.recipe.egg:scripts
scripts = py.test
eggs =
    imio.dataexchange.core
    pytest
arguments = ['--capture=no', 'src/imio'] + sys.argv[1:]

[pytest-cov]
recipe = zc.recipe.egg:scripts
scripts = py.test=test-coverage
eggs =
    imio.dataexchange.core
    pytest
    pytest-cov
arguments = ['--capture=no', '--cov', 'src/imio', '--cov-report', 'term', '--cov-report', 'html', 'src/imio'] + sys.argv[1:]
